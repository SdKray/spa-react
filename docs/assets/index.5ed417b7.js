var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,s=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&l(e,a,t[a]);if(r)for(var a of r(t))o.call(t,a)&&l(e,a,t[a]);return e},i=(e,r)=>t(e,a(r)),c=(e,t)=>{var a={};for(var l in e)n.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&r)for(var l of r(e))t.indexOf(l)<0&&o.call(e,l)&&(a[l]=e[l]);return a};import{f as m,u,R as p,r as d,a as f,L as g,v as E,S as h,b as y,c as w,P as b,B as v,d as L,e as O,g as I,h as N,t as S,i as C,j as _}from"./vendor.d2a5e07e.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const P="[Auth] Login",x="[Auth] Logout",A="[error] Set Error",R="[error] Remove Error";m.initializeApp({apiKey:"AIzaSyCY5_U2m_JFQegtAnah0zt_qERDOUttA9E",authDomain:"react-app-fh-68394.firebaseapp.com",databaseURL:"https://react-app-fh-68394.firebaseio.com",projectId:"react-app-fh-68394",storageBucket:"react-app-fh-68394.appspot.com",messagingSenderId:"504208170891",appId:"1:504208170891:web:ca6885c96938828930598e"}),m.firestore();const j=e=>({type:A,payload:e}),q=(e,t)=>({type:P,payload:{uid:e,displayName:t}}),D=()=>({type:x});function k(){const e=u();return p.createElement("div",null,"Hola Mundo en una SPA de react",p.createElement("button",{onClick:()=>{e((async e=>{await m.auth().signOut(),e(D()),e(noteLogout())}))}},"Logout"))}const U=(e={})=>{const[t,a]=d.exports.useState(e);return[t,({target:e})=>{a(i(s({},t),{[e.name]:e.value}))},(t=e)=>{a(t)}]};function F(){const e=u(),{msgError:t}=f((e=>e.error)),[a,r]=U({email:"",password:""}),{email:n,password:o}=a;return p.createElement("div",null,p.createElement("h1",null,"Loing"),p.createElement("form",{onSubmit:t=>{t.preventDefault(),e(((e,t)=>a=>m.auth().signInWithEmailAndPassword(e,t).then((({user:e})=>{a(q(e.uid,e.displayName))})).catch((e=>{alert(e.message.replace("Firebase:",""))})))(n,o))}},t&&p.createElement("div",null,t),p.createElement("label",{htmlFor:"email"},"email"),p.createElement("input",{type:"text",name:"email",value:a.email,onChange:r}),p.createElement("label",{htmlFor:"password"},"password"),p.createElement("input",{type:"password",name:"password",value:a.password,onChange:r}),p.createElement("button",{type:"submit"},"Login")),p.createElement(g,{className:"link",to:"/auth/register"},"Create new account"))}function M(){const e=u(),{msgError:t}=f((e=>e.error)),[a,r]=U({name:"",email:"",password:"",password2:""}),{name:n,email:o,password:l,password2:s}=a,i=()=>0===n.trim().length?(e(j("Name is required")),!1):E.isEmail(o)?l!==s||l.length<5?(e(j("psw should be at least 6 characters and match")),!1):(e({type:R}),!0):(e(j("Emails is not valid")),!1);return p.createElement("div",null,p.createElement("h1",null,"Register"),p.createElement("form",{onSubmit:t=>{t.preventDefault(),i()&&e(((e,t,a)=>r=>{m.auth().createUserWithEmailAndPassword(e,t).then((async({user:e})=>{await e.updateProfile({displayName:a}),r(q(e.uid,e.displayName))})).catch((e=>{}))})(o,l,n))}},t&&p.createElement("div",null,t),p.createElement("input",{type:"text",name:"name",placeholder:"Name",autoComplete:"off",value:n,onChange:r}),p.createElement("input",{type:"email",name:"email",placeholder:"Email",autoComplete:"off",value:o,onChange:r}),p.createElement("input",{type:"password",name:"password",placeholder:"Password",autoComplete:"off",value:l,onChange:r}),p.createElement("input",{type:"password",name:"password2",placeholder:"Confirm password",autoComplete:"off",value:s,onChange:r}),p.createElement("button",{type:"submit"},"Register")),p.createElement(g,{className:"link mt-5 mb-5",to:"/auth/login"},"Already register?"))}const T=()=>p.createElement("div",{className:"auth__main"},p.createElement("div",{className:"auth__box-container"},p.createElement(h,null,p.createElement(y,{exact:!0,path:"/auth/login",component:F}),p.createElement(y,{exact:!0,path:"/auth/register",component:M}),p.createElement(w,{to:"/auth/login"})))),z=e=>{var t=e,{isLoggedIn:a,component:r}=t,n=c(t,["isLoggedIn","component"]);return p.createElement(y,i(s({},n),{component:e=>a?p.createElement(r,s({},e)):p.createElement(w,{to:"/auth/login"})}))};z.propTypes={isLoggedIn:b.bool.isRequired,component:b.func.isRequired};const B=e=>{var t=e,{isLoggedIn:a,component:r}=t,n=c(t,["isLoggedIn","component"]);return p.createElement(y,i(s({},n),{component:e=>a?p.createElement(w,{to:"/"}):p.createElement(r,s({},e))}))};function K(){const e=u(),[t,a]=d.exports.useState(!0),[r,n]=d.exports.useState(!1);return d.exports.useEffect((()=>{m.auth().onAuthStateChanged((async t=>{(null==t?void 0:t.uid)?(e(q(t.uid,t.displayName)),n(!0)):n(!1),a(!1)}))}),[e,a,n]),p.createElement(v,null,p.createElement(h,null,p.createElement(B,{path:"/auth",component:T,isLoggedIn:r}),p.createElement(z,{exact:!0,path:"/",component:k,isLoggedIn:r}),p.createElement(w,{to:"/auth/login"})))}B.propTypes={isLoggedIn:b.bool.isRequired,component:b.func.isRequired};const W={msgError:null},X="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||N,H=O(L({auth:(e={},t)=>{switch(t.type){case P:return{uid:t.payload.uid,name:t.payload.displayName};case x:return{};default:return e}},error:(e=W,t)=>{switch(t.type){case A:return i(s({},e),{msgError:t.payload});case R:return i(s({},e),{msgError:null});default:return e}}}),X(I(S)));function J(){return p.createElement(C,{store:H},p.createElement(K,null))}_.render(p.createElement(p.StrictMode,null,p.createElement(J,null)),document.getElementById("root"));
